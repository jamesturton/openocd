#
# NXP (Freescale) MPC5748G - dual-core Power Architecture
#

if { [info exists CHIPNAME] } {
	set _CHIPNAME $CHIPNAME
} else {
	set _CHIPNAME mpc5748g
}

if { [info exists CPUTAPID] } {
	set _CPUTAPID $CPUTAPID
} else {
	set _CPUTAPID 0x0988101d
	# set _CPUTAPID 0x07c5201d
}

jtag newtap $_CHIPNAME cpu -irlen 6 -expected-id $_CPUTAPID

set _TARGETNAME $_CHIPNAME.cpu
# dap create $_CHIPNAME.dap -chain-position $_CHIPNAME.cpu
target create ${_TARGETNAME}0 mpc57xx -chain-position $_TARGETNAME

#target create ${_TARGETNAME}1 mpc57xx

# target smp ${_TARGETNAME}0 ${_TARGETNAME}1
